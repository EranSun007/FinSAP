// Comprehensive hierarchical cost breakdown data matching the BTP account structure

export const costBreakdownData = {
  id: 'customer-all-accounts',
  level: 'Customer',
  name: 'All Accounts',
  parentId: null,
  hasChildren: true,
  exclude: 'No',
  lifecycle: 'Unset',
  date: 'Nov 25, 2025',
  services: { count: 8, label: '8 charges' },
  cost: 1833.81,
  currency: 'USD',
  deltaCost: 11.35,
  deltaCostPct: 1,
  forecastedCost: 1965.86,
  deltaForecasted: -18.72,
  children: [
    {
      id: 'global-account-demo',
      level: 'Global Account',
      name: 'Demo Industries Ltd',
      parentId: 'customer-all-accounts',
      hasChildren: true,
      exclude: 'No',
      lifecycle: 'Unset',
      date: 'Nov 25, 2025',
      services: { count: 8, label: '8 charges' },
      cost: 1833.81,
      currency: 'USD',
      deltaCost: 11.35,
      deltaCostPct: 1,
      forecastedCost: 1965.86,
      deltaForecasted: -18.72,
      children: [
        {
          id: 'datacenter-cf-eu10',
          level: 'Datacenter',
          name: 'cf-eu10-canary',
          parentId: 'global-account-demo',
          hasChildren: false,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: null,
          cost: null,
          currency: 'USD',
          deltaCost: null,
          deltaCostPct: null,
          forecastedCost: null,
          deltaForecasted: null,
          children: []
        },
        {
          id: 'datacenter-eu10',
          level: 'Datacenter',
          name: 'eu10-canary',
          parentId: 'global-account-demo',
          hasChildren: false,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 8, label: '8 charges' },
          cost: 1833.81,
          currency: 'USD',
          deltaCost: 11.35,
          deltaCostPct: 1,
          forecastedCost: 1965.86,
          deltaForecasted: -18.72,
          children: []
        },
        {
          id: 'datacenter-unallocated',
          level: 'Datacenter',
          name: 'Unallocated',
          parentId: 'global-account-demo',
          hasChildren: false,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 1, label: '1 charge' },
          cost: 0.00,
          currency: 'USD',
          deltaCost: 0.00,
          deltaCostPct: 0,
          forecastedCost: 0.00,
          deltaForecasted: 0.00,
          children: []
        },
        {
          id: 'directory-nonprod',
          level: 'Directory',
          name: 'Non-Prod',
          parentId: 'global-account-demo',
          hasChildren: false,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 5, label: '5 charges' },
          cost: 545.53,
          currency: 'USD',
          deltaCost: 4.94,
          deltaCostPct: 1,
          forecastedCost: 603.04,
          deltaForecasted: -8.19,
          children: []
        },
        {
          id: 'directory-production',
          level: 'Directory',
          name: 'Production',
          parentId: 'global-account-demo',
          hasChildren: false,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 2, label: '2 charges' },
          cost: 84.08,
          currency: 'USD',
          deltaCost: 0.73,
          deltaCostPct: 1,
          forecastedCost: 90.86,
          deltaForecasted: -0.77,
          children: []
        },
        {
          id: 'directory-sandbox',
          level: 'Directory',
          name: 'Sandbox',
          parentId: 'global-account-demo',
          hasChildren: true,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 7, label: '7 charges' },
          cost: 848.67,
          currency: 'USD',
          deltaCost: 0.73,
          deltaCostPct: 0,
          forecastedCost: 856.90,
          deltaForecasted: -1.11,
          children: [
            {
              id: 'subaccount-dev-sbx',
              level: 'Sub Account',
              name: 'Development SBX',
              parentId: 'directory-sandbox',
              hasChildren: false,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: null,
              cost: null,
              currency: 'USD',
              deltaCost: null,
              deltaCostPct: null,
              forecastedCost: null,
              deltaForecasted: null,
              children: []
            },
            {
              id: 'subaccount-exploration-sbx',
              level: 'Sub Account',
              name: 'Exploration SBX',
              parentId: 'directory-sandbox',
              hasChildren: true,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 5, label: '5 charges' },
              cost: 705.21,
              currency: 'USD',
              deltaCost: 0.00,
              deltaCostPct: 0,
              forecastedCost: 706.02,
              deltaForecasted: -0.19,
              children: [
                {
                  id: 'environment-demoindustries-exsbx',
                  level: 'Environment',
                  name: 'DemoIndustries-ExSBX',
                  parentId: 'subaccount-exploration-sbx',
                  hasChildren: false,
                  exclude: 'Yes',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: null,
                  cost: null,
                  currency: 'USD',
                  deltaCost: null,
                  deltaCostPct: null,
                  forecastedCost: null,
                  deltaForecasted: null,
                  children: []
                },
                {
                  id: 'service-ai-core',
                  level: 'Service',
                  name: 'AI Core',
                  parentId: 'subaccount-exploration-sbx',
                  hasChildren: true,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 1, label: '1 charge' },
                  cost: 2.26,
                  currency: 'USD',
                  deltaCost: 0.00,
                  deltaCostPct: 0,
                  forecastedCost: 2.59,
                  deltaForecasted: -0.08,
                  children: [
                    {
                      id: 'instance-default',
                      level: 'Instance',
                      name: 'default',
                      parentId: 'service-ai-core',
                      hasChildren: true,
                      exclude: 'No',
                      lifecycle: 'Unset',
                      date: 'Nov 25, 2025',
                      services: { count: 1, label: '1 charge' },
                      cost: 2.26,
                      currency: 'USD',
                      deltaCost: 0.00,
                      deltaCostPct: 0,
                      forecastedCost: 2.59,
                      deltaForecasted: -0.08,
                      children: [
                        {
                          id: 'app-amazon-titan-express',
                          level: 'Application',
                          name: 'amazon--titan-text-express-1',
                          parentId: 'instance-default',
                          hasChildren: false,
                          exclude: 'No',
                          lifecycle: 'Unset',
                          date: 'Nov 25, 2025',
                          services: null,
                          cost: null,
                          currency: 'USD',
                          deltaCost: null,
                          deltaCostPct: null,
                          forecastedCost: null,
                          deltaForecasted: null,
                          children: []
                        },
                        {
                          id: 'app-amazon-titan-lite',
                          level: 'Application',
                          name: 'amazon--titan-text-lite-1',
                          parentId: 'instance-default',
                          hasChildren: false,
                          exclude: 'No',
                          lifecycle: 'Unset',
                          date: 'Nov 25, 2025',
                          services: null,
                          cost: null,
                          currency: 'USD',
                          deltaCost: null,
                          deltaCostPct: null,
                          forecastedCost: null,
                          deltaForecasted: null,
                          children: []
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              id: 'subaccount-cursor-dev',
              level: 'Sub Account',
              name: 'Cursor DEV',
              parentId: 'directory-sandbox',
              hasChildren: true,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 4, label: '4 charges' },
              cost: 355.53,
              currency: 'USD',
              deltaCost: 4.94,
              deltaCostPct: 1,
              forecastedCost: 415.04,
              deltaForecasted: -8.68,
              children: []
            },
            {
              id: 'subaccount-unallocated',
              level: 'Sub Account',
              name: 'Unallocated',
              parentId: 'directory-sandbox',
              hasChildren: false,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 1, label: '1 charge' },
              cost: 0.00,
              currency: 'USD',
              deltaCost: 0.00,
              deltaCostPct: 0,
              forecastedCost: 0.00,
              deltaForecasted: 0.00,
              children: []
            }
          ]
        }
      ]
    },
    {
      id: 'business-ai',
      level: 'Business AI',
      name: 'Business AI',
      parentId: 'customer-all-accounts',
      hasChildren: true,
      exclude: 'No',
      lifecycle: 'Unset',
      date: 'Nov 25, 2025',
      services: { count: 5, label: '5 features' },
      cost: 1250.00,
      currency: 'AI Units',
      deltaCost: 45.50,
      deltaCostPct: 4,
      forecastedCost: 1380.00,
      deltaForecasted: -25.00,
      children: [
        {
          id: 'package-joule-hcm',
          level: 'Package',
          name: 'Joule Premium for HCM',
          parentId: 'business-ai',
          hasChildren: true,
          exclude: 'No',
          lifecycle: 'Unset',
          date: 'Nov 25, 2025',
          services: { count: 4, label: '4 features' },
          cost: 1250.00,
          currency: 'AI Units',
          deltaCost: 45.50,
          deltaCostPct: 4,
          forecastedCost: 1380.00,
          deltaForecasted: -25.00,
          children: [
            {
              id: 'users-joule-hcm',
              level: 'Users',
              name: 'Users',
              parentId: 'package-joule-hcm',
              hasChildren: false,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 3, label: '3 users' },
              cost: 450.00,
              currency: 'AI Units',
              deltaCost: 12.00,
              deltaCostPct: 3,
              forecastedCost: 520.00,
              deltaForecasted: -8.00,
              children: []
            },
            {
              id: 'feature-ai-assist-writing',
              level: 'Feature',
              name: 'AI-Assist Writing',
              parentId: 'package-joule-hcm',
              hasChildren: true,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 2, label: '2 users' },
              cost: 320.00,
              currency: 'AI Units',
              deltaCost: 15.50,
              deltaCostPct: 5,
              forecastedCost: 350.00,
              deltaForecasted: -5.00,
              children: [
                {
                  id: 'user-john-doe-writing',
                  level: 'User',
                  name: 'John Doe',
                  parentId: 'feature-ai-assist-writing',
                  hasChildren: false,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 145, label: '145 Requests' },
                  cost: 180.00,
                  currency: 'AI Units',
                  deltaCost: 8.50,
                  deltaCostPct: 5,
                  forecastedCost: 195.00,
                  deltaForecasted: -3.00,
                  children: []
                },
                {
                  id: 'user-matt-pitz-writing',
                  level: 'User',
                  name: 'Matt Pitz',
                  parentId: 'feature-ai-assist-writing',
                  hasChildren: false,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 112, label: '112 Requests' },
                  cost: 140.00,
                  currency: 'AI Units',
                  deltaCost: 7.00,
                  deltaCostPct: 5,
                  forecastedCost: 155.00,
                  deltaForecasted: -2.00,
                  children: []
                }
              ]
            },
            {
              id: 'feature-applicant-screening',
              level: 'Feature',
              name: 'Applicant Screening',
              parentId: 'package-joule-hcm',
              hasChildren: true,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 1, label: '1 user' },
              cost: 180.00,
              currency: 'AI Units',
              deltaCost: 6.00,
              deltaCostPct: 3,
              forecastedCost: 200.00,
              deltaForecasted: -4.00,
              children: [
                {
                  id: 'user-matt-pitz-screening',
                  level: 'User',
                  name: 'Matt Pitz',
                  parentId: 'feature-applicant-screening',
                  hasChildren: false,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 89, label: '89 Requests' },
                  cost: 180.00,
                  currency: 'AI Units',
                  deltaCost: 6.00,
                  deltaCostPct: 3,
                  forecastedCost: 200.00,
                  deltaForecasted: -4.00,
                  children: []
                }
              ]
            },
            {
              id: 'feature-explain-pay',
              level: 'Feature',
              name: 'Explain Pay',
              parentId: 'package-joule-hcm',
              hasChildren: true,
              exclude: 'No',
              lifecycle: 'Unset',
              date: 'Nov 25, 2025',
              services: { count: 2, label: '2 users' },
              cost: 300.00,
              currency: 'AI Units',
              deltaCost: 12.00,
              deltaCostPct: 4,
              forecastedCost: 310.00,
              deltaForecasted: -8.00,
              children: [
                {
                  id: 'user-matt-pitz-pay',
                  level: 'User',
                  name: 'Matt Pitz',
                  parentId: 'feature-explain-pay',
                  hasChildren: false,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 67, label: '67 Requests' },
                  cost: 120.00,
                  currency: 'AI Units',
                  deltaCost: 5.00,
                  deltaCostPct: 4,
                  forecastedCost: 130.00,
                  deltaForecasted: -3.00,
                  children: []
                },
                {
                  id: 'user-andrea-mint-pay',
                  level: 'User',
                  name: 'Andrea Mint',
                  parentId: 'feature-explain-pay',
                  hasChildren: false,
                  exclude: 'No',
                  lifecycle: 'Unset',
                  date: 'Nov 25, 2025',
                  services: { count: 95, label: '95 Requests' },
                  cost: 180.00,
                  currency: 'AI Units',
                  deltaCost: 7.00,
                  deltaCostPct: 4,
                  forecastedCost: 180.00,
                  deltaForecasted: -5.00,
                  children: []
                }
              ]
            }
          ]
        }
      ]
    }
  ]
};

// Helper function to flatten tree into array of visible rows based on expanded state
export function flattenTree(node, expandedIds, depth = 0) {
  const result = [{ ...node, depth }];
  
  if (node.hasChildren && expandedIds.has(node.id)) {
    node.children.forEach(child => {
      result.push(...flattenTree(child, expandedIds, depth + 1));
    });
  }
  
  return result;
}

// Helper function to get all node IDs recursively
export function getAllNodeIds(node) {
  const ids = [node.id];
  if (node.children) {
    node.children.forEach(child => {
      ids.push(...getAllNodeIds(child));
    });
  }
  return ids;
}

